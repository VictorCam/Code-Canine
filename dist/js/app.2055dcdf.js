(function(t){function e(e){for(var o,a,i=e[0],u=e[1],c=e[2],p=0,d=[];p<i.length;p++)a=i[p],Object.prototype.hasOwnProperty.call(r,a)&&r[a]&&d.push(r[a][0]),r[a]=0;for(o in u)Object.prototype.hasOwnProperty.call(u,o)&&(t[o]=u[o]);l&&l(e);while(d.length)d.shift()();return s.push.apply(s,c||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],o=!0,i=1;i<n.length;i++){var u=n[i];0!==r[u]&&(o=!1)}o&&(s.splice(e--,1),t=a(a.s=n[0]))}return t}var o={},r={app:0},s=[];function a(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=t,a.c=o,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)a.d(n,o,function(e){return t[e]}.bind(null,o));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],u=i.push.bind(i);i.push=e,i=i.slice();for(var c=0;c<i.length;c++)e(i[c]);var l=u;s.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"033e":function(t,e,n){},"047c":function(t,e,n){"use strict";var o=n("e02b"),r=n.n(o);r.a},"0cca":function(t,e,n){t.exports=n.p+"img/2.5796d0b2.png"},"25ed":function(t,e,n){},"33db":function(t,e,n){var o={"./1.png":"550f","./2.png":"0cca"};function r(t){var e=s(t);return n(e)}function s(t){if(!n.o(o,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return o[t]}r.keys=function(){return Object.keys(o)},r.resolve=s,t.exports=r,r.id="33db"},"550f":function(t,e,n){t.exports=n.p+"img/1.989dc750.png"},"56d7":function(t,e,n){"use strict";n.r(e),n.d(e,"router",(function(){return Et}));n("45fc"),n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("2b0e"),r=n("8c4f"),s=n("a7fe"),a=n.n(s),i=n("bc3a"),u=n.n(i),c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"main"}},[n("navbar")],1)},l=[],p=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"main"}},[n("h1",[t._v("CodeCanine")]),n("p",[t._v("LOGIN: "+t._s(t.login))]),n("p",[t._v("USER ID: "+t._s(t.ID))]),0==t.login?n("router-link",{attrs:{id:"link",to:"/login"}},[t._v("Login")]):t._e(),0==t.login?n("router-link",{attrs:{id:"link",to:"/signup"}},[t._v("Sign Up")]):t._e(),1==t.login?n("router-link",{attrs:{id:"link",to:"/post"}},[t._v("Post")]):t._e(),1==t.login?n("router-link",{attrs:{id:"link",to:"/profile/"+t.ID}},[t._v("My Profile")]):t._e(),1==t.login?n("button",{on:{click:t.logout}},[t._v("LOGOUT")]):t._e(),n("router-view",{key:t.$route.name+(t.$route.params.id||"")}),n("cfooter")],1)},d=[],m=n("5530"),f=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},h=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"footer"}},[n("footer",[t._v("CopyRight 2020")])])}],v=(n("ce7d"),n("2877")),_={},g=Object(v["a"])(_,f,h,!1,null,"f007aa20",null),b=g.exports,O=n("2f62"),S={components:{cfooter:b},mounted:function(){1==this.$store.state.m_login_login&&this.$store.dispatch("loadID")},computed:Object(m["a"])(Object(m["a"])({},Object(O["b"])({login:function(t){return t.m_login.login}})),Object(O["b"])(["ID"])),methods:{logout:function(){this.$store.dispatch("m_login/logout")}}},E=S,I=(n("6a9e"),Object(v["a"])(E,p,d,!1,null,"31ca326f",null)),D=I.exports,T={components:{navbar:D}},w=T,P=(n("beba"),Object(v["a"])(w,c,l,!1,null,null,null)),y=P.exports,j=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"profile"},[n("h1",[t._v("Profile")]),t.ID==t.user.ID?n("button",[t._v("EDIT PROFILE")]):t._e(),t.user.ID?n("div",[n("img",{attrs:{width:"100px",height:"100px",src:t.userWithIcon.icon}}),n("p",[t._v(" "+t._s(t.user.Name)+" ")]),n("p",[t._v(" "+t._s(t.user.icon)+" ")])]):n("div",[t._v("LOADING")])])},$=[],x=(n("a9e3"),{created:function(){this.$store.dispatch("loadUser",Number(this.$route.params.id)),this.$store.dispatch("loadID")},computed:Object(m["a"])(Object(m["a"])({},Object(O["b"])(["user","ID"])),{},{userWithIcon:function(){return Object(m["a"])(Object(m["a"])({},this.user),{},{icon:this.user.icon&&n("33db")("./".concat(this.user.icon))})}})}),N=x,U=Object(v["a"])(N,j,$,!1,null,null,null),k=U.exports,C=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"login"},[n("h1",[t._v("Login")]),n("form",{on:{submit:function(e){return e.preventDefault(),t.login(e)}}},[t._v(" UserName: "),n("br"),n("input",{directives:[{name:"model",rawName:"v-model",value:t.user.username,expression:"user.username"}],attrs:{type:"text",name:"username"},domProps:{value:t.user.username},on:{input:function(e){e.target.composing||t.$set(t.user,"username",e.target.value)}}}),n("br"),t._v("Password: "),n("br"),n("input",{directives:[{name:"model",rawName:"v-model",value:t.user.password,expression:"user.password"}],attrs:{type:"password",name:"password"},domProps:{value:t.user.password},on:{input:function(e){e.target.composing||t.$set(t.user,"password",e.target.value)}}}),n("br"),n("br"),n("input",{attrs:{type:"submit",value:"Submit"}})])])},R=[],L={data:function(){return{user:{username:"",password:""}}},methods:{login:function(){console.log(this.user),this.$store.dispatch("m_login/loadLogin",this.user)}}},G=L,q=Object(v["a"])(G,C,R,!1,null,null,null),M=q.exports,A=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"signup"},[n("h1",[t._v("Sign Up")]),n("form",{on:{submit:function(e){return e.preventDefault(),t.addPost(e)}}},[t._v(" UserName: "),n("br"),n("input",{directives:[{name:"model",rawName:"v-model",value:t.user.username,expression:"user.username"}],attrs:{type:"text",name:"username"},domProps:{value:t.user.username},on:{input:function(e){e.target.composing||t.$set(t.user,"username",e.target.value)}}}),n("br"),t._v("Password: "),n("br"),n("input",{directives:[{name:"model",rawName:"v-model",value:t.user.password,expression:"user.password"}],attrs:{type:"password",name:"password"},domProps:{value:t.user.password},on:{input:function(e){e.target.composing||t.$set(t.user,"password",e.target.value)}}}),n("br"),n("br"),n("input",{attrs:{type:"submit",value:"Submit"}})])])},F=[],z={data:function(){return{user:{username:"",password:""}}},methods:{addPost:function(){this.$store.dispatch("loadRegister",this.user)}}},H=z,J=Object(v["a"])(H,A,F,!1,null,null,null),W=J.exports,V=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"menu",attrs:{id:"menu"}},[n("h1",[t._v("Home")]),t._l(t.users,(function(e){return n("div",{key:e.id},[e.ID==t.ID?n("div",[t._v(" "+t._s(e.Name)+" "+t._s(e.ID)+" "),n("button",[t._v("EDIT POST")])]):n("div",[t._v(" "+t._s(e.Name)+" "+t._s(e.ID)+" ")])])}))],2)},B=[],K={created:function(){this.$store.dispatch("loadUsers"),this.$store.dispatch("loadID")},computed:Object(m["a"])(Object(m["a"])({},Object(O["b"])(["users"])),Object(O["b"])(["ID"]))},Q=K,X=Object(v["a"])(Q,V,B,!1,null,null,null),Y=X.exports,Z=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},tt=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"hello"},[o("img",{attrs:{alt:"Vue logo",src:n("cf05")}}),o("h1",[t._v("404 NOT FOUND")])])}],et={},nt=Object(v["a"])(et,Z,tt,!1,null,null,null),ot=nt.exports,rt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"hello"})},st=[],at={methods:{onFileChanged:function(t){var e=t.target.files[0];console.log(e)}},onUpload:function(){}},it=at,ut=Object(v["a"])(it,rt,st,!1,null,null,null),ct=ut.exports,lt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"post",attrs:{id:"post"}},[n("h1",[t._v("Post")]),t.ID?n("span",[n("form",{on:{submit:function(e){return e.preventDefault(),t.cpost(e)}}},[t._v(" Make a post: "),n("br"),n("input",{directives:[{name:"model",rawName:"v-model",value:t.post.content,expression:"post.content"}],attrs:{type:"text"},domProps:{value:t.post.content},on:{input:function(e){e.target.composing||t.$set(t.post,"content",e.target.value)}}}),n("input",{staticClass:"submitpost",attrs:{type:"submit",value:"Submit"}})]),n("br"),t._l(t.posts,(function(e){return n("div",{key:e.id},[e.ID==t.ID?n("div",[t._v(" "+t._s(e.POST_ID)+" "),n("router-link",{attrs:{id:"link",to:"/profile/"+e.ID}},[t._v(t._s(e.Name))]),t._v(" "+t._s(e.post)+" "),n("form",{on:{submit:function(n){return n.preventDefault(),t.upost(e.POST_ID)}}},[n("input",{directives:[{name:"model",rawName:"v-model.lazy",value:t.conpost.ucontent,expression:"conpost.ucontent",modifiers:{lazy:!0}}],attrs:{type:"text"},domProps:{value:t.conpost.ucontent},on:{change:function(e){return t.$set(t.conpost,"ucontent",e.target.value)}}}),n("input",{staticClass:"editpost",attrs:{type:"submit",value:"EDIT POST"}})]),n("button",{staticClass:"deletepost",on:{click:function(n){return t.dpost(e.POST_ID)}}},[t._v("DELETE POST")])],1):n("div",[n("router-link",{attrs:{id:"link",to:"/profile/"+e.ID}},[t._v(t._s(e.Name))]),t._v(" "+t._s(e.post)+" ")],1),n("br"),n("br")])}))],2):n("span",[t._v(" LOADING ")])])},pt=[],dt={data:function(){return{post:{content:""},conpost:{ucontent:""}}},methods:{cpost:function(){this.$store.dispatch("createPost",this.post)},dpost:function(t){this.$store.dispatch("deletePost",Number(t))},upost:function(t){var e={ID:t,content:this.conpost.ucontent};console.log(e),this.$store.dispatch("updatePost",e),this.conpost.ucontent=""}},created:function(){this.$store.dispatch("loadID"),this.$store.dispatch("loadPosts")},computed:Object(m["a"])({},Object(O["b"])(["ID","posts","newpost"]))},mt=dt,ft=(n("047c"),Object(v["a"])(mt,lt,pt,!1,null,"d7fe479e",null)),ht=ft.exports,vt=n("a78e"),_t=n.n(vt),gt={namespaced:!0,state:{login:!1},actions:{loadLogin:function(t,e){var n=this,o=t.commit;u.a.post("http://localhost:13377/login",e).then((function(t){return console.log("STORE USER: ",e),console.log("STORE STATUS:",t.data),n.login=t.data,o("SET_LOGIN",n.login),u.a.get("http://localhost:13377/auth",{withCredentials:!0})})).then((function(t){console.log("STORE AUTH:",t.data),"SUCCESS"==t.data&&Et.push("/post")}))},logout:function(t){var e=t.commit;u.a.get("http://localhost:13377/logout",{withCredentials:!0}).then((function(t){e("SET_LOGIN",t.data),Et.push("/login")}))}},mutations:{SET_LOGIN:function(t,e){t.login=e}},getters:{}},bt=n("0e44");o["a"].use(O["a"],u.a);var Ot=new O["a"].Store({modules:{m_login:gt},plugins:[Object(bt["a"])({paths:["m_login"],storage:{getItem:function(t){return _t.a.get(t)},removeItem:function(t){return _t.a.remove(t)},setItem:function(t,e){return _t.a.set(t,e,{secure:!0,SameSite:"Strict"})}}})],state:{ID:0,users:[],user:[],register:[],posts:[],newpost:[]},getters:{},actions:{loadUsers:function(t){var e=t.commit;u.a.get("http://localhost:13377/").then((function(t){e("SET_USERS",t.data)}))},loadUser:function(t,e){var n=t.commit;u.a.get("http://localhost:13377/profile/".concat(e)).then((function(t){n("SET_USER",t.data)}))},loadRegister:function(t,e){var n=t.commit;u.a.post("http://localhost:13377/signup",e).then((function(t){n("SET_REGISTER",t.data)}))},loadID:function(t){var e=t.commit;u.a.get("http://localhost:13377/loadID",{withCredentials:!0}).then((function(t){e("SET_ID",t.data)}))},loadPosts:function(t){var e=t.commit;u.a.get("http://localhost:13377/posts",{withCredentials:!0}).then((function(t){e("SET_POSTS",t.data)}))},createPost:function(t,e){var n=t.commit,o={POST_ID:95,ID:this.state.ID,post:e.content};u.a.post("http://localhost:13377/create_post",o).then((function(t){console.log(t.data),n("SET_CREATE_POST",o)}))},updatePost:function(t,e){var n=t.commit;u.a.put("http://localhost:13377/update_post",e).then((function(t){console.log("payload is:",e),console.log(t.data),n("SET_USER")}))},deletePost:function(t,e){var n=t.commit;u.a.delete("http://localhost:13377/delete_post/".concat(e),e).then((function(t){console.log("payload is:",e),console.log(t.data),n("SET_USER")}))}},mutations:{SET_USERS:function(t,e){t.users=e},SET_USER:function(t,e,n){t.user=e,t.payload=n},SET_REGISTER:function(t,e){t.register=e},SET_ID:function(t,e){t.ID=e},SET_POSTS:function(t,e){t.posts=e},SET_CREATE_POST:function(t,e){t.posts.push(e)}}});o["a"].config.productionTip=!1,o["a"].use(r["a"],a.a,u.a);var St=[{path:"*",name:"404",component:ot,meta:{auth_require:!1}},{path:"/",name:"home",component:Y,meta:{auth_require:!1}},{path:"/profile/:id",name:"profile",component:k,meta:{auth_require:!1}},{path:"/login",name:"login",component:M,meta:{auth_require:!1,auth_restrict:!0}},{path:"/signup",name:"signup",component:W,meta:{auth_require:!1,auth_restrict:!0}},{path:"/upload",name:"upload",component:ct,meta:{auth_require:!0}},{path:"/post",name:"post",component:ht,meta:{auth_require:!0}}],Et=new r["a"]({routes:St,mode:"history"});function It(){var t=!1;return Ot.state.m_login.login&&(t=Ot.state.m_login.login),t}function Dt(t,e,n){var o=It();if(t.matched.some((function(t){return t.meta.auth_require}))){if(!o)return void n("/login");n()}else n();t.matched.some((function(t){return t.meta.auth_restrict}))&&o?n("/post"):n()}Et.beforeEach((function(t,e,n){Dt(t,e,n)})),new o["a"]({el:"#main",router:Et,store:Ot,render:function(t){return t(y)}})},"6a9e":function(t,e,n){"use strict";var o=n("033e"),r=n.n(o);r.a},"6dc8":function(t,e,n){},beba:function(t,e,n){"use strict";var o=n("25ed"),r=n.n(o);r.a},ce7d:function(t,e,n){"use strict";var o=n("6dc8"),r=n.n(o);r.a},cf05:function(t,e,n){t.exports=n.p+"img/logo.82b9c7a5.png"},e02b:function(t,e,n){}});
//# sourceMappingURL=app.2055dcdf.js.map